---
import type {skill} from '../Skill.astro'
import Skill from '../Skill.astro'

export interface Props {
    role: string;
    company: string;
    company_logo: string;
    total_time: string;
    skills: skill[];
}

const {
    role,
    company,
    company_logo,
    total_time,
    skills
} = Astro.props;
---
<div class='experience'>
    <div class='experience-side-panel'>
        <img src={company_logo} />
    </div>
    <div class='experience-head'>
        <h3>{role}</h3>
        <span class='institution'>{company}</span>
        <span class='total-time'>{total_time}</span>
    </div>
    <div class='experience-content'>
        <slot />
        {skills.map(skill => (
            <Skill name={skill[0]} description={skill[1]} />
        ))}
    </div>
</div>

<style>
h3 {
    margin: 0;
}

img {
    height: 4rem;
    border: 2px solid silver;
    border-radius: 20%;
}

.experience {
    display: grid;
    grid-template-columns: min-content auto;
    grid-template-rows: min-content auto;
    margin-bottom: 3rem;
}

.experience-side-panel {
    grid-column-start: 1;
    grid-row-start: 1;
}

.experience-head {
    grid-column-start: 2;
    grid-row-start: 1;
    padding-left: 1.5rem;
}

.experience-content {
    grid-column-start: 2;
    grid-row-start: 2;
    padding-left: 1.5rem;
}

.institution {
    display: block;
    font-weight: bold;
    color: #00897b;
}

.total-time {
    display: block;
    font-size: 0.875rem;
    font-style: oblique;
}
</style>
